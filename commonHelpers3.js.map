{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst lsDataKey = 'feedback-form-state';\nconst formRef = document.querySelector('.feedback-form');\nconst storedFormData = JSON.parse(localStorage.getItem(lsDataKey)) ?? {};\n\nObject.keys(storedFormData).forEach(key => {\n  const inputRef = formRef.querySelector(`[name=\"${key}\"]`);\n  inputRef.value = storedFormData[key];\n});\n\nconst formInputHandler = function () {\n  const formData = new FormData(this);\n  const formDataObj = Object.fromEntries(formData.entries());\n  localStorage.setItem(lsDataKey, JSON.stringify(formDataObj));\n};\n\nconst formSubmitHandler = function (e) {\n  e.preventDefault();\n  const formData = new FormData(this);\n  const formDataObj = Object.fromEntries(formData.entries());\n  console.log(formDataObj);\n\n  this?.reset();\n  localStorage.removeItem(lsDataKey);\n};\n\nformRef.addEventListener('input', throttle(formInputHandler, 500));\nformRef.addEventListener('submit', formSubmitHandler);\n"],"names":["lsDataKey","formRef","storedFormData","key","inputRef","formInputHandler","formData","formDataObj","formSubmitHandler","e","throttle"],"mappings":"wIAEA,MAAMA,EAAY,sBACZC,EAAU,SAAS,cAAc,gBAAgB,EACjDC,EAAiB,KAAK,MAAM,aAAa,QAAQF,CAAS,CAAC,GAAK,GAEtE,OAAO,KAAKE,CAAc,EAAE,QAAQC,GAAO,CACzC,MAAMC,EAAWH,EAAQ,cAAc,UAAUE,CAAG,IAAI,EACxDC,EAAS,MAAQF,EAAeC,CAAG,CACrC,CAAC,EAED,MAAME,EAAmB,UAAY,CACnC,MAAMC,EAAW,IAAI,SAAS,IAAI,EAC5BC,EAAc,OAAO,YAAYD,EAAS,QAAS,CAAA,EACzD,aAAa,QAAQN,EAAW,KAAK,UAAUO,CAAW,CAAC,CAC7D,EAEMC,EAAoB,SAAUC,EAAG,CACrCA,EAAE,eAAc,EAChB,MAAMH,EAAW,IAAI,SAAS,IAAI,EAC5BC,EAAc,OAAO,YAAYD,EAAS,QAAS,CAAA,EACzD,QAAQ,IAAIC,CAAW,EAEvB,iBAAM,QACN,aAAa,WAAWP,CAAS,CACnC,EAEAC,EAAQ,iBAAiB,QAASS,EAASL,EAAkB,GAAG,CAAC,EACjEJ,EAAQ,iBAAiB,SAAUO,CAAiB"}